{@type:filter|@guid:7192513f7d5b4ae2b519662b61ccec21}
// 設定時間週期為日線
SetBarFreq("D");

// 定義輸入參數
input: LengShort(5, "短期均線");      // 5 日均線
input: LengLong(60, "長期均線");      // 60 日均線
input: Period(120, "統計區間");       // 統計範圍（120日內）
input: MinCross(4, "最小交叉次數");   // 設定黃金交叉的最小次數，預設為 4

// 設定所需的歷史數據範圍，確保有足夠的數據進行計算
settotalBar(Period + 10);

// 定義變數來存儲均線數據
variable: maShort(0), maLong(0);

// 計算短期與長期均線
maShort = average(c, LengShort);  // 5日均線
maLong = average(c, LengLong);    // 60日均線

// 計算 120 日內短期均線黃金交叉長期均線的次數
variable: GoldenCrossCount(0);
GoldenCrossCount = countif(maShort cross over maLong, Period);

// 如果黃金交叉次數 ? MinCross，則返回 1，否則返回 0
if GoldenCrossCount >= MinCross then 
    ret = 1;  // 滿足條件，返回 1



